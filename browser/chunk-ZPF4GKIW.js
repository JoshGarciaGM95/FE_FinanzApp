import{a as B,c as E,d as V,e as I,g as N,h as W,o as x,p as T,r as D}from"./chunk-AKF7VT3P.js";import{J as r,K as n,M as S,N as w,Q as o,U as p,V as h,W as u,k as C,n as _,p as c,pa as M,q as l,ua as v,v as d,x as f,y}from"./chunk-Q4NULIGH.js";var g=class s{constructor(i){this.http=i}apiUrl=`${D.apiUrl}/api/branches`;createBranch(i){return this.http.post(`${this.apiUrl}/create`,i)}static \u0275fac=function(a){return new(a||s)(_(M))};static \u0275prov=C({token:s,factory:s.\u0275fac,providedIn:"root"})};var F=class s{constructor(i,a){this.branchService=i;this.router=a}branch={branch_name:"",address:"",phone:"",status:"active",creation_date:""};onSubmit(){let a={company_id:Number(sessionStorage.getItem("companyId")),branch_name:this.branch.branch_name,address:this.branch.address,phone:this.branch.phone,status:this.branch.status,creation_date:this.branch.creation_date||new Date().toISOString(),id_User:sessionStorage.getItem("userId")};this.branchService.createBranch(a).subscribe({next:e=>{this.router.navigate(["/home"])},error:e=>alert("Error al crear sucursal: "+e.message)})}static \u0275fac=function(a){return new(a||s)(f(g),f(v))};static \u0275cmp=y({type:s,selectors:[["app-branch-create"]],decls:24,vars:4,consts:[["branchForm","ngForm"],[1,"container","my-4"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6"],["for","branchName",1,"form-label"],["id","branchName","type","text","name","branch_name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["id","address","type","text","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["id","phone","type","text","name","phone","required","","placeholder","Tel\xE9fono de la sucursal",1,"form-control",3,"ngModelChange","ngModel"],["for","status",1,"form-label"],["id","status","type","text","name","status","required","","placeholder","Estado de la sucursal",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],["type","submit",1,"btn","btn-primary"]],template:function(a,e){if(a&1){let m=S();r(0,"div",1)(1,"h2"),o(2,"Crear Sucursal"),n(),r(3,"form",2,0),w("ngSubmit",function(){return c(m),l(e.onSubmit())}),r(5,"div",3)(6,"label",4),o(7,"Nombre de la sucursal"),n(),r(8,"input",5),u("ngModelChange",function(t){return c(m),h(e.branch.branch_name,t)||(e.branch.branch_name=t),l(t)}),n()(),r(9,"div",3)(10,"label",6),o(11,"Direcci\xF3n"),n(),r(12,"input",7),u("ngModelChange",function(t){return c(m),h(e.branch.address,t)||(e.branch.address=t),l(t)}),n()(),r(13,"div",3)(14,"label",8),o(15,"Tel\xE9fono"),n(),r(16,"input",9),u("ngModelChange",function(t){return c(m),h(e.branch.phone,t)||(e.branch.phone=t),l(t)}),n()(),r(17,"div",3)(18,"label",10),o(19,"Estado"),n(),r(20,"input",11),u("ngModelChange",function(t){return c(m),h(e.branch.status,t)||(e.branch.status=t),l(t)}),n()(),r(21,"div",12)(22,"button",13),o(23,"Crear Sucursal"),n()()()()}a&2&&(d(8),p("ngModel",e.branch.branch_name),d(4),p("ngModel",e.branch.address),d(4),p("ngModel",e.branch.phone),d(4),p("ngModel",e.branch.status))},dependencies:[T,W,B,E,V,x,N,I],styles:[".branch-create-container[_ngcontent-%COMP%]{max-width:400px;margin:40px auto;padding:24px;box-shadow:0 2px 8px #0000001a;background:#fff;border-radius:8px}"]})};export{F as BranchCreateComponent};
