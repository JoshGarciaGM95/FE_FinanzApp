import{a as I}from"./chunk-QWYVFOOZ.js";import{a as w,c as b,d as M,e as v,g as E,h as V,o as W,p as N}from"./chunk-7KQLKPIC.js";import{J as n,K as o,M as f,N as h,Q as i,W as l,X as s,Y as d,p as r,q as m,v as p,wa as S,x as u,y as C}from"./chunk-ELEF5QF2.js";var P=class _{constructor(g,a){this.companyService=g;this.router=a}company={company_name:"",contact_email:"",contact_phone:"",address:"",registration_date:"",status:"activo"};onSubmit(){let a={user_id:sessionStorage.getItem("userId"),company_name:this.company.company_name,contact_email:this.company.contact_email,contact_phone:this.company.contact_phone,address:this.company.address,registration_date:this.company.registration_date||new Date().toISOString(),status:"active"};this.companyService.createCompany(a).subscribe({next:e=>{sessionStorage.setItem("companyId",e.company_id),this.router.navigate(["/branch-create"])},error:e=>alert("Error al crear empresa: "+e.message)})}static \u0275fac=function(a){return new(a||_)(u(I),u(S))};static \u0275cmp=C({type:_,selectors:[["app-company-create"]],decls:24,vars:4,consts:[["companyForm","ngForm"],[1,"container","my-4"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6"],["for","companyName",1,"form-label"],["id","companyName","type","text","name","company_name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["id","address","type","text","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contactEmail",1,"form-label"],["id","contactEmail","type","email","name","contact_email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contactPhone",1,"form-label"],["id","contactPhone","type","text","name","contact_phone","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],["type","submit",1,"btn","btn-primary"]],template:function(a,e){if(a&1){let c=f();n(0,"div",1)(1,"h2"),i(2,"Crear Empresa"),o(),n(3,"form",2,0),h("ngSubmit",function(){return r(c),m(e.onSubmit())}),n(5,"div",3)(6,"label",4),i(7,"Nombre de la empresa"),o(),n(8,"input",5),d("ngModelChange",function(t){return r(c),s(e.company.company_name,t)||(e.company.company_name=t),m(t)}),o()(),n(9,"div",3)(10,"label",6),i(11,"Direcci\xF3n"),o(),n(12,"input",7),d("ngModelChange",function(t){return r(c),s(e.company.address,t)||(e.company.address=t),m(t)}),o()(),n(13,"div",3)(14,"label",8),i(15,"Email de contacto"),o(),n(16,"input",9),d("ngModelChange",function(t){return r(c),s(e.company.contact_email,t)||(e.company.contact_email=t),m(t)}),o()(),n(17,"div",3)(18,"label",10),i(19,"Tel\xE9fono de contacto"),o(),n(20,"input",11),d("ngModelChange",function(t){return r(c),s(e.company.contact_phone,t)||(e.company.contact_phone=t),m(t)}),o()(),n(21,"div",12)(22,"button",13),i(23,"Crear Empresa"),o()()()()}a&2&&(p(8),l("ngModel",e.company.company_name),p(4),l("ngModel",e.company.address),p(4),l("ngModel",e.company.contact_email),p(4),l("ngModel",e.company.contact_phone))},dependencies:[N,V,w,b,M,W,E,v],styles:[".company-create-container[_ngcontent-%COMP%]{max-width:400px;margin:40px auto;padding:24px;box-shadow:0 2px 8px #0000001a;background:#fff;border-radius:8px}"]})};export{P as CompanyCreateComponent};
